<div ng-include="'components/navbar/navbar.html'"></div>

<div class="container page-container">

  <div class="row">
    <div class="col-xs-12">
      <form class="entry-form">
        <div class="form-group">
          <textarea tabindex="1" class="form-control" placeholder="Share something about your day..." rows="6" ng-model="selectedEntry.body"></textarea>
        </div>
        <div class="form-group">
          <a class="pull-left btn btn-link btn-branded-muted" ng-click="showTips()">
            <i class="fa fa-question-circle fa-lg"></i>
          </a>
          <button tabindex="3" class="pull-right btn btn-link" ng-disabled="!selectedEntry.body || selectedEntry.body === ''" ng-click="selectedEntry = {}">Cancel</button>
          <button tabindex="2" class="pull-right btn btn-primary" ng-disabled="!selectedEntry.body || selectedEntry.body === ''" ng-click="saveEntry(selectedEntry)">{{ selectedEntry._id ? 'Edit' : 'Add'}}</button>
        </div>
      </form>

      <article class="col-xs-12" ng-repeat="entry in entries">
        <header class="entry-title">
          <span class="fa-stack">
            <i class="fa fa-circle-thin fa-stack-2x"></i>
            <i class="fa fa-pencil fa-stack-1x fa-flip-horizontal"></i>
          </span><h2>{{entry.created | amCalendar | lowercase}}</h2>
          <a ng-click="deleteEntry(entry)"><i class="fa fa-trash-o fa-sm"> </i></a>
          <a ng-click="editEntry(entry)"><i class="fa fa-pencil-square-o fa-sm"> </i></a>
        </header>
        <div btf-markdown="entry.body"></div>
        <div class="overlay" ng-show="selectedEntry && entry._id===selectedEntry._id">
          <span>Editing above</span>
        </div>
      </article>

    </div>
  </div>
</div>

<footer class="footer">
  <div class="container">
  </div>
</footer>
